c:\Users\albs_\source\repos\msx-tests\sprite-split.s1FNAME "sprite-split.rom" 3PageSize: equ 0x4000 56 org 0x4000, 0xbeff 8 9 Include/RomHeader.s12 db "AB" 3 dw Execute 4 dw 0 6 dw 0 8 dw 0 9 dw 0, 0, 0 10 11c:\Users\albs_\source\repos\msx-tests\sprite-split.s10 Include/MsxBios.s189BIOS_HWVER: equ 0x002d1112BIOS_CGTABL: equ 0x0004 13BIOS_VDP_DR: equ 0x0006 14BIOS_VDP_DW: equ 0x0007 1617BIOS_CHKRAM: equ 0x000018BIOS_SYNCHR: equ 0x000819BIOS_RDSLT: equ 0x000c20BIOS_CHRGTR: equ 0x001021BIOS_WRSLT: equ 0x001422BIOS_OUTDO: equ 0x001823BIOS_CALSLT: equ 0x001c24BIOS_DCOMPR: equ 0x002025BIOS_ENASLT: equ 0x002426BIOS_GETYPR: equ 0x002827BIOS_CALLF: equ 0x003028BIOS_KEYINT: equ 0x00383031BIOS_INITIO: equ 0x003b32BIOS_INIFNK: equ 0x003e3435BIOS_DISSCR: equ 0x004136BIOS_ENASCR: equ 0x004437BIOS_WRTVDP: equ 0x004738BIOS_RDVRM: equ 0x004a39BIOS_WRTVRM: equ 0x004d40BIOS_SETRD: equ 0x005041BIOS_SETWRT: equ 0x005342BIOS_FILVRM: equ 0x005643BIOS_LDIRMV: equ 0x005944BIOS_LDIRVM: equ 0x005c45BIOS_CHGMOD: equ 0x005f46BIOS_CHGCLR: equ 0x006247BIOS_NMI: equ 0x006648BIOS_CLRSPR: equ 0x006949BIOS_INITXT: equ 0x006c50BIOS_INIT32: equ 0x006f51BIOS_INIGRP: equ 0x007252BIOS_INIMLT: equ 0x007553BIOS_SETTXT: equ 0x007854BIOS_SETT32: equ 0x007b55BIOS_SETGRP: equ 0x007e56BIOS_SETMLT: equ 0x008157BIOS_CALPAT: equ 0x008458BIOS_CALATR: equ 0x008759BIOS_GSPSIZ: equ 0x008a60BIOS_GRPPRT: equ 0x008d6263BIOS_GICINI: equ 0x009064BIOS_WRTPSG: equ 0x009365BIOS_RDPSG: equ 0x009666BIOS_STRTMS: equ 0x00996869BIOS_CHSNS: equ 0x009c70BIOS_CHGET: equ 0x009f71BIOS_CHPUT: equ 0x00a272BIOS_LPTOUT: equ 0x00a573BIOS_LPTSTT: equ 0x00a874BIOS_CNVCHR: equ 0x00ab75BIOS_PINLIN: equ 0x00ae76BIOS_INLIN: equ 0x00b177BIOS_QINLIN: equ 0x00b478BIOS_BREAKX: equ 0x00b779BIOS_BEEP: equ 0x00c080BIOS_CLS: equ 0x00c381BIOS_POSIT: equ 0x00c682BIOS_FNKSB: equ 0x00c983BIOS_ERAFNK: equ 0x00cc84BIOS_DSPFNK: equ 0x00cf85BIOS_TOTEXT: equ 0x00d28788BIOS_GTSTCK: equ 0x00d589BIOS_GTTRIG: equ 0x00d890BIOS_GTPAD: equ 0x00db91BIOS_GTPDL: equ 0x00de9394BIOS_TAPION: equ 0x00e195BIOS_TAPIN: equ 0x00e496BIOS_TAPIOF: equ 0x00e797BIOS_TAPOON: equ 0x00ea98BIOS_TAPOUT: equ 0x00ed99BIOS_TAPOOF: equ 0x00f0100BIOS_STMOTR: equ 0x00f3102103BIOS_CHGCAP: equ 0x0132104BIOS_CHGSND: equ 0x0135105BIOS_RSLREG: equ 0x0138106BIOS_WSLREG: equ 0x013b107BIOS_RDVDP: equ 0x013e108BIOS_SNSMAT: equ 0x0141109BIOS_PHYDIO: equ 0x0144110BIOS_ISFLIO: equ 0x014a111BIOS_OUTDLP: equ 0x014d112BIOS_KILBUF: equ 0x0156113BIOS_CALBAS: equ 0x0159115116BIOS_SUBROM: equ 0x015c117BIOS_EXTROM: equ 0x015f118BIOS_EOL: equ 0x0168119BIOS_BIGFIL: equ 0x016b120BIOS_NSETRD: equ 0x016e121BIOS_NSTWRT: equ 0x0171122BIOS_NRDVRM: equ 0x0174123BIOS_NWRVRM: equ 0x0177125126BIOS_GRPRT: equ 0x0089127BIOS_NVBXLN: equ 0x00c9128BIOS_NVBXFL: equ 0x00cd129BIOS_CLSSUB: equ 0x0115130BIOS_VDPSTA: equ 0x0131131BIOS_SETPAG: equ 0x013d132BIOS_INIPLT: equ 0x0141133BIOS_RSTPLT: equ 0x0145134BIOS_GETPLT: equ 0x0149135BIOS_SETPLT: equ 0x014d136BIOS_PROMPT: equ 0x0181137BIOS_NEWPAD: equ 0x01ad138BIOS_CHGMDP: equ 0x01b5139BIOS_KNJPRT: equ 0x01bd140BIOS_REDCLK: equ 0x01f5141BIOS_WRTCLK: equ 0x01f9143144BIOS_RDPRIM: equ 0xf380145BIOS_WRPRIM: equ 0xf385146BIOS_CLPRIM: equ 0xf38c148149BIOS_USRTAB: equ 0xf39a150BIOS_LINL40: equ 0xf3ae151BIOS_LINL32: equ 0xf3af152BIOS_LINLEN: equ 0xf3b0153BIOS_CRTCNT: equ 0xf3b1154BIOS_CLMLST: equ 0xf3b2156157BIOS_TXTNAM: equ 0xf3b3158BIOS_TXTCOL: equ 0xf3b5159BIOS_TXTCGP: equ 0xf3b7160BIOS_TXTATR: equ 0xf3b9161BIOS_TXTPAT: equ 0xf3bb163164BIOS_T32NAM: equ 0xf3bd165BIOS_T32COL: equ 0xf3bf166BIOS_T32CGP: equ 0xf3c1167BIOS_T32ATR: equ 0xf3c3168BIOS_T32PAT: equ 0xf3c5170171BIOS_GRPNAM: equ 0xf3c7172BIOS_GRPCOL: equ 0xf3c9173BIOS_GRPCGP: equ 0xf3cb174BIOS_GRPATR: equ 0xf3cd175BIOS_GRPPAT: equ 0xf3cf177178BIOS_MLTNAM: equ 0xf3d1179BIOS_MLTCOL: equ 0xf3d3180BIOS_MLTCGP: equ 0xf3d5181BIOS_MLTATR: equ 0xf3d7182BIOS_MLTPAT: equ 0xf3d9184185BIOS_CLIKSW: equ 0xf3db186BIOS_CSRY: equ 0xf3dc187BIOS_CSRX: equ 0xf3dd188BIOS_CNSDFG: equ 0xf3de190191BIOS_RG0SAV: equ 0xf3df192BIOS_RG1SAV: equ 0xf3e0193BIOS_RG2SAV: equ 0xf3e1194BIOS_RG3SAV: equ 0xf3e2195BIOS_RG4SAV: equ 0xf3e3196BIOS_RG5SAV: equ 0xf3e4197BIOS_RG6SAV: equ 0xf3e5198BIOS_RG7SAV: equ 0xf3e6199BIOS_RG8SAV: equ 0xffe7200BIOS_RG9SAV: equ 0xffe8201BIOS_STATFL: equ 0xf3e7202BIOS_TRGFLG: equ 0xf3e8203BIOS_FORCLR: equ 0xf3e9204BIOS_BAKCLR: equ 0xf3ea205BIOS_BDRCLR: equ 0xf3eb206BIOS_MAXUPD: equ 0xf3ec207BIOS_MINUPD: equ 0xf3ef208BIOS_ATRBYT: equ 0xf3f2210211BIOS_QUEUES: equ 0xf3f3212BIOS_FRCNEW: equ 0xf3f5214215BIOS_SCNCNT: equ 0xf3f6216BIOS_REPCNT: equ 0xf3f7217BIOS_PUTPNT: equ 0xf3f8218BIOS_GETPNT: equ 0xf3fa220221BIOS_CS120: equ 0xf3fc222BIOS_LOW: equ 0xf406223BIOS_HIGH: equ 0xf408224BIOS_HEADER: equ 0xf40a225BIOS_ASPCT1: equ 0xf40b226BIOS_ASPCT2: equ 0xf40d227BIOS_ENDPRG: equ 0xf40f229230BIOS_ERRFLG: equ 0xf414231BIOS_LPTPOS: equ 0xf415232BIOS_PRTFLG: equ 0xf416233BIOS_NTMSXP: equ 0xf417234BIOS_RAWPRT: equ 0xf418235BIOS_VLZADR: equ 0xf419236BIOS_VLZDAT: equ 0xf41b237BIOS_CURLIN: equ 0xf41c238BIOS_KBUF: equ 0xf41f239BIOS_BUFMIN: equ 0xf55d240BIOS_BUF: equ 0xf55e241BIOS_ENDBUF: equ 0xf660242BIOS_TTYPOS: equ 0xf661243BIOS_DIMFLG: equ 0xf662244BIOS_VALTYP: equ 0xf663245BIOS_DORES: equ 0xf664246BIOS_DONUM: equ 0xf665247BIOS_CONTXT: equ 0xf666248BIOS_CONSAV: equ 0xf668249BIOS_CONTYP: equ 0xf669250BIOS_CONLO: equ 0xf66a251BIOS_MEMSIZ: equ 0xf672252BIOS_STKTOP: equ 0xf674253BIOS_TXTTAB: equ 0xf676254BIOS_TEMPPT: equ 0xf768255BIOS_TEMPST: equ 0xf67a256BIOS_DSCTMP: equ 0xf698257BIOS_FRETOP: equ 0xf69b258BIOS_TEMP3: equ 0xf69d259BIOS_TEMP8: equ 0xf69f260BIOS_ENDFOR: equ 0xf6a1261BIOS_SUBFLG: equ 0xf6a5262BIOS_FLGINP: equ 0xf6a6263BIOS_TEMP: equ 0xf6a7264BIOS_PTRFLG: equ 0xf6a9265BIOS_AUTFLG: equ 0xf6aa266BIOS_AUTLIN: equ 0xf6ab267BIOS_AUTINC: equ 0xf6ad268BIOS_SAVTXT: equ 0xf6af269BIOS_ERRLIN: equ 0xf6b3270BIOS_DOT: equ 0xf6b5271BIOS_ERRTXT: equ 0xf6b7272BIOS_ONELIN: equ 0xf6b9273BIOS_ONEFLG: equ 0xf6bb274BIOS_TEMP2: equ 0xf6bc275BIOS_OLDLIN: equ 0xf6be276BIOS_OLDTXT: equ 0xf6c0277BIOS_VARTAB: equ 0xf6c2278BIOS_ARYTAB: equ 0xf6c4279BIOS_STREND: equ 0xf6c6280BIOS_DATPTR: equ 0xf6c8281BIOS_DEFTBL: equ 0xf6ca282BIOS_PRMSTK: equ 0xf6e4283BIOS_PRMLEN: equ 0xf6e6284BIOS_PARM1: equ 0xf6e8285BIOS_PRMPRV: equ 0xf74c286BIOS_PRMLN2: equ 0xf74e287BIOS_PARM2: equ 0xf750288BIOS_PRMFLG: equ 0xf7b4289BIOS_ARYTA2: equ 0xf7b5290BIOS_NOFUNS: equ 0xf7b7291BIOS_TEMP9: equ 0xf7b8292BIOS_FUNACT: equ 0xf7ba293BIOS_SWPTMP: equ 0xf7bc294BIOS_TRCFLG: equ 0xf7c4296297BIOS_FBUFFR: equ 0xf7c5298BIOS_DECTMP: equ 0xf7f0299BIOS_DECTM2: equ 0xf7f2300BIOS_DECCNT: equ 0xf7f4301BIOS_DAC: equ 0xf7f6302BIOS_HOLD8: equ 0xf806303BIOS_HOLD2: equ 0xf836304BIOS_HOLD: equ 0xf83e305BIOS_ARG: equ 0xf847306BIOS_RNDX: equ 0xf857308309BIOS_USRDATA: equ 0xf7f8311312BIOS_MAXFIL: equ 0xf85f313BIOS_FILTAB: equ 0xf860314BIOS_NULBUF: equ 0xf862315BIOS_PTRFIL: equ 0xf864316BIOS_RUNFLG: equ 0xf866317BIOS_FILNAM: equ 0xf866318BIOS_FILNM2: equ 0xf871319BIOS_NLONLY: equ 0xf87c320BIOS_SAVEND: equ 0xf87d321BIOS_FNKSTR: equ 0xf87f322BIOS_CGPNT: equ 0xf91f323BIOS_NAMBAS: equ 0xf922324BIOS_CGPBAS: equ 0xf924325BIOS_PATBAS: equ 0xf926326BIOS_ATRBAS: equ 0xf928327BIOS_CLOC: equ 0xf92a328BIOS_CMASK: equ 0xf92c329BIOS_MINDEL: equ 0xf92d330BIOS_MAXDEL: equ 0xf92f332333BIOS_ASPECT: equ 0xf931334BIOS_CENCNT: equ 0xf933335BIOS_CLINEF: equ 0xf935336BIOS_CNPNTS: equ 0xf936337BIOS_CPLOTF: equ 0xf938338BIOS_CPCNT: equ 0xf939339BIOS_CPNCNT8: equ 0xf93b340BIOS_CPCSUM: equ 0xf93d341BIOS_CSTCNT: equ 0xf93f342BIOS_CSCLXY: equ 0xf941343BIOS_CSAVEA: equ 0xf942344BIOS_CSAVEM: equ 0xf944345BIOS_CXOFF: equ 0xf945346BIOS_CYOFF: equ 0xf947348349BIOS_LOHMSK: equ 0xf949350BIOS_LOHDIR: equ 0xf94a351BIOS_LOHADR: equ 0xf94b352BIOS_LOHCNT: equ 0xf94d353BIOS_SKPCNT: equ 0xf94f354BIOS_MIVCNT: equ 0xf951355BIOS_PDIREC: equ 0xf953356BIOS_LFPROG: equ 0xf954357BIOS_RTPROG: equ 0xf955359360BIOS_MCLTAB: equ 0xf956361BIOS_MCLFLG: equ 0xf958362BIOS_QUETAB: equ 0xf959363BIOS_QUEBAK: equ 0xf971364BIOS_VOICAQ: equ 0xf975365BIOS_VOICBQ: equ 0xf9f5366BIOS_VOICCQ: equ 0xfa75368369BIOS_DPPAGE: equ 0xfaf5370BIOS_ACPAGE: equ 0xfaf6371BIOS_AVCSAV: equ 0xfaf7372BIOS_EXBRSA: equ 0xfaf8373BIOS_CHRCNT: equ 0xfaf9374BIOS_ROMA: equ 0xfafa375BIOS_MODE: equ 0xfafc376BIOS_NORUSE: equ 0xfafd377BIOS_XSAVE: equ 0xfafe378BIOS_YSAVE: equ 0xfb00379BIOS_LOGOPR: equ 0xfb02381382BIOS_RSTMP: equ 0xfb03383BIOS_TOCNT: equ 0xfb03384BIOS_RSFCB: equ 0xfb04385BIOS_RSIQLN: equ 0xfb06386BIOS_MEXBIH: equ 0xfb07387BIOS_OLDSTT: equ 0xfb0c388BIOS_OLDINT: equ 0xfb12389BIOS_DEVNUM: equ 0xfb17390BIOS_DATCNT: equ 0xfb18391BIOS_ERRORS: equ 0xfb1b392BIOS_FLAGS: equ 0xfb1c393BIOS_ESTBLS: equ 0xfb1d394BIOS_COMMSK: equ 0xfb1e395BIOS_LSTCOM: equ 0xfb1f396BIOS_LSTMOD: equ 0xfb20398399BIOS_PRSCNT: equ 0xfb35400BIOS_SAVSP: equ 0xfb36401BIOS_VOICEN: equ 0xfb38402BIOS_SAVVOL: equ 0xfb39403BIOS_MCLLEN: equ 0xfb3b404BIOS_MCLPTR: equ 0xfb3c405BIOS_QUEUEN: equ 0xfb3e406BIOS_MUSICF: equ 0xfc3f407BIOS_PLYCNT: equ 0xfb40409410BIOS_VCBA: equ 0xfb41411BIOS_VCBB: equ 0xfb66412BIOS_VCBC: equ 0xfb8b414415BIOS_ENSTOP: equ 0xfbb0416BIOS_BASROM: equ 0xfbb1417BIOS_LINTTB: equ 0xfbb2418BIOS_FSTPOS: equ 0xfbca419BIOS_CODSAV: equ 0xfbcc420BIOS_FNKSW1: equ 0xfbcd421BIOS_FNKFLG: equ 0xfbce422BIOS_ONGSBF: equ 0xfbd8423BIOS_CLIKFL: equ 0xfbd9424BIOS_OLDKEY: equ 0xfbda425BIOS_NEWKEY: equ 0xfbe5426BIOS_KEYBUF: equ 0xfbf0427BIOS_LINWRK: equ 0xfc18428BIOS_PATWRK: equ 0xfc40429BIOS_BOTTOM: equ 0xfc48430BIOS_HIMEM: equ 0xfc4a431BIOS_TRAPTBL: equ 0xfc4c432BIOS_RTYCNT: equ 0xfc9a433BIOS_INTFLG: equ 0xfc9b434BIOS_PADY: equ 0xfc9c435BIOS_PADX: equ 0xfc9d436BIOS_JIFFY: equ 0xfc9e437BIOS_INTVAL: equ 0xfca0438BIOS_INTCNT: equ 0xfca2439BIOS_LOWLIM: equ 0xfca4440BIOS_WINWID: equ 0xfca5441BIOS_GRPHED: equ 0xfca6442BIOS_ESCCNT: equ 0xfca7443BIOS_INSFLG: equ 0xfca8444BIOS_CSRSW: equ 0xfca9445BIOS_CSTYLE: equ 0xfcaa446BIOS_CAPST: equ 0xfcab447BIOS_KANAST: equ 0xfcac448BIOS_KANAMD: equ 0xfcad449BIOS_FLBMEM: equ 0xfcae450BIOS_SCRMOD: equ 0xfcaf451BIOS_OLDSCR: equ 0xfcb0452BIOS_CASPRV: equ 0xfcb1453BIOS_BRDATR: equ 0xfcb2454BIOS_GXPOS: equ 0xfcb3455BIOS_GYPOS: equ 0xfcb5456BIOS_GRPACX: equ 0xfcb7457BIOS_GRPACY: equ 0xfcb9458BIOS_DRWFLG: equ 0xfcbb459BIOS_DRWSCL: equ 0xfcbc460BIOS_DRWANG: equ 0xfcbd461BIOS_RUNBNF: equ 0xfcbe462BIOS_SAVENT: equ 0xfcbf463BIOS_ROMSLT: equ 0xfcc0464BIOS_EXPTBL: equ 0xfcc1465BIOS_SLTTBL: equ 0xfcc5466BIOS_SLTATR: equ 0xfcc9467BIOS_SLTWRK: equ 0xfd09468BIOS_PROCNM: equ 0xfd89469BIOS_DEVICE: equ 0xfd99471472BIOS_H_KEYI: equ 0xfd9a473BIOS_H_TIMI: equ 0xfd9f474BIOS_H_CHPH: equ 0xfda4475BIOS_H_DSPC: equ 0xfda9476BIOS_H_ERAC: equ 0xfdae477BIOS_H_DSPF: equ 0xfdb3478BIOS_H_ERAF: equ 0xfdb8479BIOS_H_TOTE: equ 0xfdbd480BIOS_H_CHGE: equ 0xfdc2481BIOS_H_INIP: equ 0xfdc7482BIOS_H_KEYC: equ 0xfdcc483BIOS_H_KYEA: equ 0xfdd1484BIOS_H_NMI: equ 0xfdd6485BIOS_H_PINL: equ 0xfddb486BIOS_H_QINL: equ 0xfde0487BIOS_H_INLI: equ 0xfde5488BIOS_H_ONGO: equ 0xfdea489BIOS_H_DSKO: equ 0xfdef490BIOS_H_SETS: equ 0xfdf4491BIOS_H_NAME: equ 0xfdf9492BIOS_H_KILL: equ 0xfdfe493BIOS_H_IPL: equ 0xfe03494BIOS_H_COPY: equ 0xfe08495BIOS_H_CMD: equ 0xfe0d496BIOS_H_DSKF: equ 0xfe12497BIOS_H_DSKI: equ 0xfe17498BIOS_H_ATTR: equ 0xfe1c499BIOS_H_LSET: equ 0xfe21500BIOS_H_RSET: equ 0xfe26501BIOS_H_FIEL: equ 0xfe2b502BIOS_H_MKI: equ 0xfe30503BIOS_H_MKS: equ 0xfe35504BIOS_H_MKD: equ 0xfe3a505BIOS_H_CVI: equ 0xfe3f506BIOS_H_CVS: equ 0xfe44507BIOS_H_CVD: equ 0xfe49508BIOS_H_GETP: equ 0xfe4e509BIOS_H_SETF: equ 0xfe53510BIOS_H_NOFO: equ 0xfe58511BIOS_H_NULO: equ 0xfe5d512BIOS_H_NTFL: equ 0xfe62513BIOS_H_MERG: equ 0xfe67514BIOS_H_SAVE: equ 0xfe6c515BIOS_H_BINS: equ 0xfe71516BIOS_H_BINL: equ 0xfe76517BIOS_H_FILE: equ 0xfd7b518BIOS_H_DGET: equ 0xfe80519BIOS_H_FILO: equ 0xfe85520BIOS_H_INDS: equ 0xfe8a521BIOS_H_RSLF: equ 0xfe8f522BIOS_H_SAVD: equ 0xfe94523BIOS_H_LOC: equ 0xfe99524BIOS_H_LOF: equ 0xfe9e525BIOS_H_EOF: equ 0xfea3526BIOS_H_FPOS: equ 0xfea8527BIOS_H_BAKU: equ 0xfead528BIOS_H_PARD: equ 0xfeb2529BIOS_H_NODE: equ 0xfeb7530BIOS_H_POSD: equ 0xfebc531BIOS_H_DEVN: equ 0xfec1532BIOS_H_GEND: equ 0xfec6533BIOS_H_RUNC: equ 0xfecb534BIOS_H_CLEAR: equ 0xfed0535BIOS_H_LOPD: equ 0xfed5536BIOS_H_STKE: equ 0xfeda537BIOS_H_ISFL: equ 0xfedf538BIOS_H_OUTD: equ 0xfee4539BIOS_H_CRDO: equ 0xfee9540BIOS_H_DSKC: equ 0xfeee541BIOS_H_DOGR: equ 0xfef3542BIOS_H_PRGE: equ 0xfef8543BIOS_H_ERRP: equ 0xfefd544BIOS_H_ERRF: equ 0xff02545BIOS_H_READ: equ 0xff07546BIOS_H_MAIN: equ 0xff0c547BIOS_H_DIRD: equ 0xff11548BIOS_H_FINI: equ 0xff16549BIOS_H_FINE: equ 0xff1b550BIOS_H_CRUN: equ 0xff20551BIOS_H_CRUS: equ 0xff25552BIOS_H_ISRE: equ 0xff2a553BIOS_H_NTFN: equ 0xff2f554BIOS_H_NOTR: equ 0xff34555BIOS_H_SNGF: equ 0xff39556BIOS_H_NEWS: equ 0xff3e557BIOS_H_GONE: equ 0xff43558BIOS_H_CHRG: equ 0xff48559BIOS_H_RETU: equ 0xff4d560BIOS_H_PRTF: equ 0xff52561BIOS_H_COMP: equ 0xff57562BIOS_H_FINP: equ 0xff5c563BIOS_H_TRMN: equ 0xff61564BIOS_H_FRME: equ 0xff66565BIOS_H_NTPL: equ 0xff6b566BIOS_H_EVAL: equ 0xff70567BIOS_H_OKNO: equ 0xff75568BIOS_H_FING: equ 0xff7a569BIOS_H_ISMI: equ 0xff7f570BIOS_H_WIDT: equ 0xff84571BIOS_H_LIST: equ 0xff89572BIOS_H_BUFL: equ 0xff8e573BIOS_H_FRQI: equ 0xff93574BIOS_H_SCNE: equ 0xff98575BIOS_H_FRET: equ 0xff9d576BIOS_H_PTRG: equ 0xffa2577BIOS_H_PHYD: equ 0xffa7578BIOS_H_FORM: equ 0xffac579BIOS_H_ERRO: equ 0xffb1580BIOS_H_LPTO: equ 0xffb6581BIOS_H_LPTS: equ 0xffbb582BIOS_H_SCRE: equ 0xffc0583BIOS_H_PLAY: equ 0xffc5585586BIOS_FCALL: equ 0xffca587BIOS_DISINT: equ 0xffcf588BIOS_ENAINT: equ 0xffd4592597598HKEYI: equ $fd9a 599HTIMI: equ $fd9f 601HOOK_SIZE: equ HTIMI - HKEYI604605MSXID1: equ $002b 609MSXID2: equ $002c 612MSXID3: equ $002d 617MSXID4: equ $002e 618MSXID5: equ $002f 619c:\Users\albs_\source\repos\msx-tests\sprite-split.s11 Include/MsxConstants.s1PORT_0: equ 0x982PORT_1: equ 0x993PORT_2: equ 0x9a4PORT_3: equ 0x9b78PPI.A: equ $a8 10PPI.B: equ $a9 11PPI.C: equ $aa 17PPI.R: equ $ab 2428REG0SAV: equ 0xF3DF29REG1SAV: equ 0xF3E030REG2SAV: equ 0xF3E131REG3SAV: equ 0xF3E232REG4SAV: equ 0xF3E333REG5SAV: equ 0xF3E434REG6SAV: equ 0xF3E535REG7SAV: equ 0xF3E637REG8SAV: equ 0xFFE738REG9SAV: equ 0xFFE84042REG23SAV: equ 0xFFF645REG25SAV: equ 0xFFFA46REG26SAV: equ 0xFFFB47REG27SAV: equ 0xFFFC48c:\Users\albs_\source\repos\msx-tests\sprite-split.s12 Include/CommonRoutines.s14913172428SetPaletteColor:29 push bc30 31 ld b, a 32 ld c, 16 33 call BIOS_WRTVDP34 ld c, PORT_2 35 pop de37 ld a, d 38 di39 out (c), a40 ld a, e 41 ei42 out (c), a44 ret4853SetPaletteColor_FromAddress:54 55 ld b, a 56 ld c, 16 57 call BIOS_WRTVDP58 ld c, PORT_2 60 ld a, (hl) 61 di62 out (c), a63 inc hl64 ld a, (hl) 65 ei66 out (c), a68 ret7273LoadPalette:74 75 ld b, 0 76 ld c, 16 77 call BIOS_WRTVDP78 ld c, PORT_2 80 ld b, 1681.loop:82 di83 ld a, (hl)84 out (c), a85 inc hl86 ld a, (hl)87 out (c), a88 ei89 inc hl90 djnz .loop91 92 ret9697EnableRomPage2:98100 call BIOS_RSLREG101 rrca102 rrca103 and 3 104 ld c,a105 ld b,0106 ld hl, BIOS_EXPTBL107 add hl,bc108 ld a,(hl)109 and 80h110 or c111 ld c,a112 inc hl113 inc hl114 inc hl115 inc hl116 ld a,(hl)117 and 0Ch118 or c119 ld h,080h120 call BIOS_ENASLT 122 ret125129Wait_B_Vblanks:130 131 push bc132 133 .loop:135 ld a, (BIOS_JIFFY)136 ld c, a137 .waitVBlank:138 ld a, (BIOS_JIFFY)139 cp c140 jp z, .waitVBlank142 djnz .loop143 144 pop bc146 ret148Wait_15_Vblanks:149 ld c, 15151 .loop:152 ld a, (BIOS_JIFFY)153 ld b, a154 .waitVBlank:155 ld a, (BIOS_JIFFY)156 cp b157 jp z, .waitVBlank159 dec c160 jp nz, .loop162 ret164Wait_Vblank:165.loop:166 ld a, (BIOS_JIFFY)167 ld b, a168.waitVBlank:169 ld a, (BIOS_JIFFY)170 cp b171 jp z, .waitVBlank173 ret175177Wait:178 ld c, 15180 .loop:181 ld a, (BIOS_JIFFY)182 ld b, a183 .waitVBlank:184 ld a, (BIOS_JIFFY)185 cp b186 jp z, .waitVBlank188 dec c189 jp nz, .loop191195SetVdp_Write:197 206 rlc h207 rla208 rlc h209 rla210 srl h211 srl h213 di214 215 out (PORT_1), a216 ld a, 14 + 128217 out (PORT_1), a219 220 ld a, l221 nop222 out (PORT_1), a223 ld a, h224 or 64225 ei226 out (PORT_1),a227 ret229233SetVdp_Read:234 rlc h235 rla236 rlc h237 rla238 srl h239 srl h240 di241 out (PORT_1), a242 ld a, 14 + 128243 out (PORT_1), a244 ld a, l245 nop246 out (PORT_1), a247 ld a, h248 ei249 out (PORT_1), a250 ret253261282 283285287289291296304312315ClearVram_MSX2:316 xor a 317 ld hl, 0 318 call SetVDP_Write320330 xor a332 336 337 ld d, 2 338.loop_2:339 ld c, 0 340.loop_1:341 ld b, 0 342.loop:343 out (PORT_0), a344 djnz .loop345 dec c346 jp nz, .loop_1347 dec d348 jp nz, .loop_2350 ret353Screen11:354 356 ld a, 8357 call BIOS_CHGMOD359 ld a, (REG25SAV)360 or 0001 1000 b361 ld (REG25SAV), a 362 ld b, a363 364 ld c, 25 365 call BIOS_WRTVDP366 ret368SetSprites16x16:369 ld a, (REG1SAV)370 or 0000 0010 b371 ld b, a372 ld c, 1 373 call BIOS_WRTVDP374 ret376Set192Lines:377 381 ld a, (REG9SAV)382 and 0111 1111 b383 ld b, a384 ld c, 9 385 call BIOS_WRTVDP386 ret388Set212Lines:389 390 ld a, (REG9SAV)391 or 1000 0000 b392 ld b, a393 ld c, 9 394 call BIOS_WRTVDP395 ret397SetNonInterlacedMode:398 399 ld a, (REG9SAV)400 and 1111 0011 b401 ld b, a402 ld c, 9 403 call BIOS_WRTVDP404 ret406SetInterlacedMode:407 408 ld a, (REG9SAV)409 or 0000 1100 b410 ld b, a411 ld c, 9 412 call BIOS_WRTVDP413 ret415SetColor0ToNonTransparent:416 421 ld a, (REG8SAV)422 or 0010 0000 b423 ld b, 0010 1000 b 424 ld c, 0x08 425 call BIOS_WRTVDP426 ret428SetColor0ToTransparent:429 430 ld a, (REG8SAV)431 and 1101 1111 b432 ld b, a433 ld c, 8 434 call BIOS_WRTVDP435 ret437DisableSprites:438 ld a, (REG8SAV)439 or 0000 0010 b440 ld b, a441 ld c, 8 442 call BIOS_WRTVDP443 ret445EnableSprites:446 ld a, (REG8SAV)447 and 1111 1101 b448 ld b, a449 ld c, 8 450 call BIOS_WRTVDP451 ret453457LDIRVM_MSX2:458 459 ex de, hl460 461 call SetVdp_Write462 ex de, hl463 ld d, c464 465 ld c, PORT_0 466 ld b, 0467.loop_1:468 otir469 dec d470 jp nz, .loop_1471 ret475493 502 506513CheckCollision_16x24_16x16:515 ld a, d 516 sub b 517 jr c, .x1IsLarger 518 sub 16 519 ret nc 520 jp .checkVerticalCollision521.x1IsLarger:522 neg 527 528 sub 16 529 ret nc 531.checkVerticalCollision:532 ld a, e 533 sub c 534 jr c, .y1IsLarger 535 sub 24 536 ret 537.y1IsLarger:538 neg 543 544 sub 16 545 ret 549554557567571574577582 583585592596598606 607615621628634637644650658660668675682685691693 695703708713717720731738743748751758763765771774776780784786789792795800 801804807 808813817820825 826829831 832837841845Execute_VDP_LMMM:846Execute_VDP_HMMM:847 ld a, 32 848 di849 out (PORT_1), a850 ld a, 17 + 128851 out (PORT_1), a852 ld c, 0x9B853.vdpReady:854 ld a, 2855 di856 out (PORT_1), a 857 ld a, 15 + 128858 out (PORT_1), a859 in a, (PORT_1)860 rra861 ld a, 0 862 out (PORT_1), a863 ld a, 15 + 128864 ei865 out (PORT_1), a 866 jp c, .vdpReady867 outi 868 outi 869 outi870 outi871 outi872 outi873 outi874 outi875 outi876 outi877 outi878 outi879 outi880 outi881 outi882 ret884888Execute_VDP_PSET:889Execute_VDP_LINE:890Execute_VDP_HMMV:891 ld a, 36 892 di893 out (PORT_1), a894 ld a, 17 + 128895 out (PORT_1), a896 ld c, 0x9B897.vdpReady:898 ld a, 2899 di900 out (PORT_1), a 901 ld a, 15 + 128902 out (PORT_1), a903 in a, (PORT_1)904 rra905 ld a, 0 906 out (PORT_1), a907 ld a, 15 + 128908 ei909 out (PORT_1), a 910 jp c, .vdpReady911 outi 912 outi 913 outi914 outi915 outi916 outi917 outi918 outi919 outi920 outi921 outi922 ret925928Execute_VDP_YMMM:929 ld a, 34 930 di931 out (PORT_1), a932 ld a, 17 + 128933 out (PORT_1), a934 ld c, 0x9B935.vdpReady:936 ld a, 2937 di938 out (PORT_1), a 939 ld a, 15 + 128940 out (PORT_1), a941 in a, (PORT_1)942 rra943 ld a, 0 944 out (PORT_1), a945 ld a, 15 + 128946 ei947 out (PORT_1), a 948 jp c, .vdpReady949 outi 950 outi 951 outi952 outi953 outi954 outi955 outi956 outi957 outi958 outi959 outi960 outi961 outi962 ret964968ReadStatusReg:969970 ld a,(0007h) 971 inc a972 ld c,a 974 out (c),b975 ld a,080h+15976 out (c),a977978 979 ld a,(0006h) 980 inc a981 ld c,a 982 in b,(c) 983 984985 ld a,(0007h) 986 inc a987 ld c,a 988 xor a989 out (c),a990 ld a,080h+15991 out (c),a992 994 ret997998WRTVDP_without_DI_EI:999 ld a, b1000 1001 out (PORT_1),a1002 ld a, c1003 or 1281004 1006 out (PORT_1), a1007 ret10111014SNSMAT_NO_DI_EI:1015 ld c, a1016.C_OK:10171018 in a, (PPI.C)1019 and 0xf0 1020 or c10211022 out (PPI.C), a1023 in a, (PPI.B)1024 ret1025c:\Users\albs_\source\repos\msx-tests\sprite-split.s141920NAMTBL: equ 0x0000 21SPRPAT: equ 0xf000 22SPRCOL: equ 0xf800 23SPRATR: equ 0xfa00 25SPRCOL_2: equ 0xfc00 26SPRATR_2: equ 0xfe00 29LINE_INTERRUPT_NUMBER: equ 6432Execute:34 35 ld a, 1 36 ld (BIOS_FORCLR), a 37 ld a, 5 38 ld (BIOS_BAKCLR), a 39 ld a, 3 40 ld (BIOS_BDRCLR), a 41 call BIOS_CHGCLR 45 call Screen1147 call BIOS_DISSCR49 call ClearVram_MSX251 call SetSprites16x1653 call Set192Lines55 call SetColor0ToTransparent60 call Load_SPRATR_161 call Load_SPRATR_263 call Set_SPRATR_16671 ld b, 0011 1110 b 72 ld c, 6 73 call BIOS_WRTVDP76 77 ld a, 0000 0001 b78 79 ld hl, SPRPAT80 call SetVdp_Write81 ld b, SpritePattern_1.size82 ld c, PORT_0 83 ld hl, SpritePattern_184 otir87 90 ld a, 0000 0001 b91 ld hl, SPRCOL92 call SetVdp_Write93 ld b, 094 ld c, PORT_0 95 ld hl, SpriteColors_a96 otir98 ld a, 0000 0001 b99 ld hl, SPRCOL + 256100 call SetVdp_Write101 ld b, 0102 ld c, PORT_0 103 ld hl, SpriteColors_b104 otir107 110 ld a, 0000 0001 b111 ld hl, SPRCOL_2112 call SetVdp_Write113 ld b, 0114 ld c, PORT_0 115 ld hl, SpriteColors_a116 otir118 ld a, 0000 0001 b119 ld hl, SPRCOL_2 + 256120 call SetVdp_Write121 ld b, 0122 ld c, PORT_0 123 ld hl, SpriteColors_b124 otir127 130 132 133 ld hl, 0134 call BIOS_NSTWRT135 ld c, PORT_0137 ld iyl, 0138.loop_Y: 139 ld ixl, 0140.loop_X:141 ld a, iyl142 xor ixl144 out (c), a146 148 inc ixl149 jp nz, .loop_X150 151 inc iyl152 jp nz, .loop_Y157 158 xor a159 ld (Flag_LineInterrupt), a160 ld (Counter_LineInterrupt), a162 ld a, LINE_INTERRUPT_NUMBER - 8163 ld (Sprite_Y), a165 ld a, 1166 ld (Sprite_Direction), a168170 172 di174 175 176 ld a, 0xc3 177 ld (HKEYI), a178 ld hl, LineInterruptHook179 ld (HKEYI + 1), hl181 182 183 ld a, (REG0SAV)184 or 16185 ld b, a 186 ld c, 0 187 call WRTVDP_without_DI_EI 191 192 ld b, LINE_INTERRUPT_NUMBER - 1 - 3 193 ld c, 19 194 call WRTVDP_without_DI_EI 197 ei200 call BIOS_ENASCR202 call BIOS_BEEP205.loop:206 call Wait_Vblank208 ld a, (Sprite_Direction)209 ld b, a210 ld a, (Sprite_Y)211 add b212 ld (Sprite_Y), a215 ld c, PORT_0217 ld a, 0000 0001 b218 ld hl, SPRATR + (31 * 4) 219 call SetVdp_Write220 ld a, (Sprite_Y)221 out (c), a223 ld a, 0000 0001 b224 ld hl, SPRATR_2 + (31 * 4) 225 call SetVdp_Write226 ld a, (Sprite_Y)227 out (c), a230 cp LINE_INTERRUPT_NUMBER231 call z, .setDirectionUp233 cp LINE_INTERRUPT_NUMBER - 16234 call z, .setDirectionDown239 jp .loop241.setDirectionUp:242 ld a, -1243 ld (Sprite_Direction), a244 ret246.setDirectionDown:247 ld a, 1248 ld (Sprite_Direction), a249 ret252253LineInterruptHook:255 260 ld a, (Flag_LineInterrupt)261 or a262 jp nz, .else263264 inc a 265 ld (Flag_LineInterrupt), a266 call .execute268 271 ld hl, 0272 ld (Flag_LineInterrupt), hl 274 ret 275.else:276 277 ld hl, Counter_LineInterrupt278 inc (hl)279 280 281 ld a, (hl)282 cp 100283 ret nz284 286 289 ld hl, 0290 ld (Flag_LineInterrupt), hl 292 ret 294.execute:295 296 ld b, 1297 call ReadStatusReg298 299 ld a, 0000 0001 b300 and b301 302 304 305 jp z, Set_SPRATR_1307 308 jp Set_SPRATR_2310312Set_SPRATR_1:313318 ld b, 1111 0111 b 319 ld c, 5 321 call WRTVDP_without_DI_EI 323 324 ld b, 0000 0011 b 325 ld c, 11 327 call WRTVDP_without_DI_EI 328 ret330Set_SPRATR_2:331336 ld b, 1111 1111 b 337 ld c, 5 339 call WRTVDP_without_DI_EI 341 ld b, 0000 0011 b 342 ld c, 11 344 call WRTVDP_without_DI_EI 345 ret347Load_SPRATR_1:348 ld a, 0000 0001 b349 ld hl, SPRATR350 call SetVdp_Write351 ld b, SpriteAttributes_top.size352 ld c, PORT_0 353 ld hl, SpriteAttributes_top354 otir355 ret357Load_SPRATR_2:358360362 ld a, 0000 0001 b363 ld hl, SPRATR_2364 call SetVdp_Write365 ld b, SpriteAttributes_bottom.size366 ld c, PORT_0 367 ld hl, SpriteAttributes_bottom368 otir369 ret371End:374SpritePattern_1:375 DB 00000111b376 DB 00011111b377 DB 00111111b378 DB 01111111b379 DB 01110011b380 DB 11110011b381 DB 11111111b382 DB 11111111b384 DB 11111111b385 DB 11111111b386 DB 11110111b387 DB 01111011b388 DB 01111100b389 DB 00111111b390 DB 00011111b391 DB 00000111b393 DB 11100000b394 DB 11111000b395 DB 11111100b396 DB 11111110b397 DB 11001110b398 DB 11001111b399 DB 11111111b400 DB 11111111b401 402 DB 11111111b403 DB 11111111b404 DB 11101111b405 DB 11011110b406 DB 00111110b407 DB 11111100b408 DB 11111000b409 DB 11100000b410.size: equ $ - SpritePattern_1412SpriteColors_a:413 414 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08416 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08417 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08418 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08419 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08420 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08421 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08422 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08423 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08424 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08425 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08426 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08427 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08428 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08429 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08430 431 432 db 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08433.size: equ $ - SpriteColors_a435SpriteColors_b:436 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04437 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04438 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04439 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04440 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04441 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04442 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04443 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04444 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04445 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04446 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04447 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04448 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04449 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04450 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04451 db 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04452.size: equ $ - SpriteColors_b455SpriteAttributes_top:456 db -1 + 0, 0, 0, 0 457 db -1 + 0, 16, 0, 0458 db -1 + 0, 32, 0, 0459 db -1 + 0, 48, 0, 0460 db -1 + 0, 64, 0, 0461 db -1 + 0, 80, 0, 0462 db -1 + 0, 96, 0, 0463 db -1 + 0, 112, 0, 0464 db -1 + 16, 0, 0, 0465 db -1 + 16, 16, 0, 0466 db -1 + 16, 32, 0, 0467 db -1 + 16, 48, 0, 0468 db -1 + 16, 64, 0, 0469 db -1 + 16, 80, 0, 0470 db -1 + 16, 96, 0, 0471 db -1 + 16, 112, 0, 0472 db -1 + 32, 0, 0, 0473 db -1 + 32, 16, 0, 0474 db -1 + 32, 32, 0, 0475 db -1 + 32, 48, 0, 0476 db -1 + 32, 64, 0, 0477 db -1 + 32, 80, 0, 0478 db -1 + 32, 96, 0, 0479 db -1 + 32, 112, 0, 0480 db -1 + 48, 0, 0, 0481 db -1 + 48, 16, 0, 0482 db -1 + 48, 32, 0, 0483 db -1 + 48, 48, 0, 0484 db -1 + 48, 64, 0, 0485 db -1 + 48, 80, 0, 0486 db -1 + 48, 96, 0, 0487 488 db -1 + LINE_INTERRUPT_NUMBER - 8, 200, 0, 0489.size: equ $ - SpriteAttributes_top491SpriteAttributes_bottom:492 db -1 + 64, 0, 0, 0 493 db -1 + 64, 16, 0, 0494 db -1 + 64, 32, 0, 0495 db -1 + 64, 48, 0, 0496 db -1 + 64, 64, 0, 0497 db -1 + 64, 80, 0, 0498 db -1 + 64, 96, 0, 0499 db -1 + 128, 112, 0, 0 500 db -1 + 80, 0, 0, 0501 db -1 + 80, 16, 0, 0502 db -1 + 80, 32, 0, 0503 db -1 + 80, 48, 0, 0504 db -1 + 80, 64, 0, 0505 db -1 + 80, 80, 0, 0506 db -1 + 80, 96, 0, 0507 db -1 + 80, 112, 0, 0508 db -1 + 96, 0, 0, 0509 db -1 + 96, 16, 0, 0510 db -1 + 96, 32, 0, 0511 db -1 + 96, 48, 0, 0512 db -1 + 96, 64, 0, 0513 db -1 + 96, 80, 0, 0514 db -1 + 96, 96, 0, 0515 db -1 + 96, 112, 0, 0516 db -1 + 112, 0, 0, 0517 db -1 + 112, 16, 0, 0518 db -1 + 112, 32, 0, 0519 db -1 + 112, 48, 0, 0520 db -1 + 112, 64, 0, 0521 db -1 + 112, 80, 0, 0522 db -1 + 112, 96, 0, 0523524 db -1 + LINE_INTERRUPT_NUMBER - 8, 200, 0, 0525.size: equ $ - SpriteAttributes_bottom527 ds PageSize - ($ - 0x4000), 255 532533 org 0xc000535536Flag_LineInterrupt: rb 1 537Counter_LineInterrupt: rb 1 540Sprite_Y: rb 1541Sprite_Direction: rb 1